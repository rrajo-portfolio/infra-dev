## Shared Prometheus configuration.
## Jenkins monta este archivo exacto desde infra-dev/monitoring/prometheus/prometheus.yml
## (ruta relativa ./monitoring/...) durante el smoke test, asi que no lo muevas ni
## cambies el nombre del archivo sin actualizar docker-compose y la guia de Jenkins.
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets: ['prometheus:9090']

  - job_name: catalog-service
    metrics_path: /api/actuator/prometheus
    static_configs:
      - targets: ['catalog-service:8081']

  - job_name: users-service
    metrics_path: /api/actuator/prometheus
    static_configs:
      - targets: ['users-service:8082']

  - job_name: orders-service
    metrics_path: /api/actuator/prometheus
    static_configs:
      - targets: ['orders-service:8084']

  - job_name: gateway-service
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ['gateway-service:8080']

  - job_name: notification-service
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ['notification-service:8080']
